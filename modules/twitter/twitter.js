// Generated by CoffeeScript 1.8.0
var OAuth, a, access_secret, access_token, async, consumerSecret, consumer_key, oauth, readline, rl, token, token_secret;

a = 'QWJHZkNEOWJxWXBLcDBtYmtqTVF2QTJRWWxnWlZlUGNuZHcwMkxvOHBYSmdpVDk2WHk=';

consumerSecret = new Buffer(a, 'base64').toString('utf8');

consumer_key = '8CMdYgIYpDM6uknWRAfWEhGEj';

OAuth = require('oauth').OAuth;

readline = require('readline');

rl = readline.createInterface(process.stdin, process.stdout);

async = require('async');

OAuth = require('oauth').OAuth;

oauth = new OAuth("https://api.twitter.com/oauth/request_token", "https://api.twitter.com/oauth/access_token", consumer_key, consumerSecret, "1.0", "oob", "HMAC-SHA1");

token = '';

token_secret = '';

access_token = '';

access_secret = '';

oauth.getOAuthRequestToken(function(error, user_token, user_secret, results) {
  token = user_token;
  token_secret = user_secret;
  console.log('https://twitter.com/oauth/authenticate?oauth_token=' + user_token);
  return rl.question('Please Enter the PIN: ', function(PIN) {
    rl.close();
    process.stdin.destroy();
    return oauth.getOAuthAccessToken(token, token_secret, PIN, function(error, oauth_access_token, oauth_access_token_secret, results) {
      if (error) {
        return console.log(error);
      } else {
        access_token = oauth_access_token;
        access_secret = oauth_access_token_secret;
        return console.log("Alles Tutti: " + access_token);
      }
    });
  });
});
